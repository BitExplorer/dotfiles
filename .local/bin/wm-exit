#!/bin/sh

export LANG="en_US.utf8"

wm=$1

if [ $# -ne 1 ]; then
  echo "Usage: $0 [xmonad|bspwm|i3]"
  exit 1
fi

while [ "${select}" != "Cancel" ] && [ "${select}" != "Logout" ] && [ "${select}" != "Shutdown" ] && [ "${select}" != "Reboot" ]; do
    select=$(printf "Cancel\nLogout\nShutdown\nReboot" | dmenu -nb '#151515' -nf '#999999' -sb '#f00060' -sf '#000000' -fn 'monofur for Powerline' -i -p "Action?")
    [ -z "${select}" ] && exit 0
done
[ "${select}" = "Cancel" ] && exit 0

[ "${select}" = "Logout" ] && [ "${wm}" = "xmonad" ] && pkill -x xmonad
[ "${select}" = "Logout" ] && [ "${wm}" = "bspwm" ] && bspc quit
[ "${select}" = "Logout" ] && [ "${wm}" = "i3" ] && i3-msg exit
[ "${select}" = "Shutdown" ] && sudo shutdown -h now
[ "${select}" = "Reboot" ] && sudo shutdown -r now

exit 0
